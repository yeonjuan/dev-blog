
   <!doctype html>
    <html lang="ko">
      <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Js13kGames 2019 참가 후기 | DevBlog</title>
        <link href="/dev-blog/favicon.ico" rel="shortcut icon">
        <meta name="description" content="Js13kGames는 2012년부터 매년 1회씩 개최된 HTML5 Game 개발자를 위한 대회입니다. 대회의 조건은 파일 크기를 13kb 이내로 제출해야 한다는 것과, 브라우저 상에서 동작해야 한다는 조건이 있습니다. 대회가 시작하면 게임 대회의 테마가 공개됩니다. 테마는 키워드로 주어지게 되는데 자유롭게 해석하여 게임을 만들고 제출하면 됩니다.">
        <link href="/dev-blog/output.css" type="text/css" rel="stylesheet" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
          href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap"
          rel="stylesheet"
        />
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZBZX7LMVNE"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-ZBZX7LMVNE');
        </script>
        
      <link href="/dev-blog/css/github.min.css" type="text/css" rel="stylesheet" />
    
    
      </head>
      <body>
        <div class="relative">
            
  <style>
        .hamburger {
            cursor: pointer;
            justify-content: space-between;
            flex-direction: column;
        }
        .hamburger > div {
            height: 2px;
            transition: 0.2s ease-out;
            z-index: 999;
        }
        .menuInput:checked ~ .hamburger > div:nth-child(1) {
            transform: translateY(6.5px) rotate(45deg);
        }
        .menuInput:checked ~ .hamburger > div:nth-child(2) {
            opacity: 0;
        }
        .menuInput:checked ~ .hamburger > div:nth-child(3) {
            transform: translateY(-6.5px) rotate(-45deg);
        }
    </style>
  <div id="overlay" class="backdrop-blur-sm bg-black/20 dark:bg-slate-900/80 fixed h-full inset-0 hidden"></div>
  <header class="bg-zinc-800 text-white h-12 fixed flex justify-between items-center w-full px-4">
    <a
      class="w-10 flex items-center justify-center"
      href="https://github.com/yeonjuan/dev-blog"
      target="_blank"
      rel="noopener noreferrer"
    >
      <img
        src="/dev-blog/assets/ic-github.svg"
        alt="go to github"
        width="20"
      >
    </a>
    <span>
      <a href="/dev-blog/">
        DEV BLOG
      </a>
    </span>
    <div class="w-10">
      <input
        id="menu"
        type="checkbox"
        class="menuInput peer sr-only hidden"
        aria-hidden="true"
      >
      <label
        for="menu"
        aria-label="menu button"
        class="hamburger flex flex-col justify-between ml-auto h-[21px] w-[21px] px-[1px] py-[3px] [&>div]:h-[2px] [&>div]:w-[18px] [&>div]:bg-white hover:cursor-pointer"
      >
        <div></div>
        <div></div>
        <div></div>
      </label>
      <nav class="fixed text-black transition-[max-height] duration-200 overflow-hidden max-h-0 top-12 left-[0px] peer-checked:max-h-[200px] bg-white w-full border-b border-black">
        <ul class="p-4">
          <li>
            <a class="inline-block w-full h-full py-2 hover:underline cursor-pointer" href="/dev-blog/">HOME</a>
          </li>
          <li>
            <a class="inline-block w-full h-full py-2 hover:underline cursor-pointer" href="/dev-blog/posts/JavaScript">JavaScript</a>
          </li>
          <li>
            <a class="inline-block w-full h-full py-2 hover:underline cursor-pointer" href="/dev-blog/posts/Review">Review</a>
          </li>
          <li>
            <a class="inline-block w-full h-full py-2 hover:underline cursor-pointer" href="/dev-blog/posts/Browser">Browser</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

          <main class="py-2 px-4 pt-10 max-w-3xl m-auto pb-20">
          
            <aside class="mt-14">
              <a href="/dev-blog/" class="hover:underline">Home</a> &gt; <a href="/dev-blog/posts/Review" class="hover:underline">Review</a> &gt; <a href="/dev-blog/posts/Review/js-13k-2019" class="hover:underline">Js13kGames 2019 참가 후기</a>
            </aside>
          
            <!--meta
title: Js13kGames 2019 참가 후기
description: Js13kGames 2019에 참가한 후기
keywords: JS13k, js13k games, js13k games 2019
-->


    <h1 id="js13kgames-2019" class="text-2xl my-8 font-bold">
      Js13kGames 2019 참가 후기
    </h1>
    <h2 id="js13kgames" class="text-xl my-4 font-semibold">
      Js13kGames?
    </h2><p class="my-1 text-sm leading-7 mb-6"><a href="http://js13kgames.com/" class="text-orange-500">Js13kGames</a></p><p class="my-1 text-sm leading-7 mb-6">Js13kGames는 2012년부터 매년 1회씩 개최된 HTML5 Game 개발자를 위한 대회입니다.
대회의 조건은 파일 크기를 13kb 이내로 제출해야 한다는 것과, 브라우저 상에서 동작해야 한다는 조건이 있습니다.</p><p class="my-1 text-sm leading-7 mb-6">대회가 시작하면 게임 대회의 테마가 공개됩니다.
테마는 키워드로 주어지게 되는데 자유롭게 해석하여 게임을 만들고 제출하면 됩니다.</p><p class="my-1 text-sm leading-7 mb-6">제출 기한은 테마 공개 이후 한 달 이내로 index.html을 필수로 포함한 압축 파일을 제출하면 됩니다. 이번에 공개된 Js13kGames 의 테마는 <strong>back</strong> 이었습니다.</p><p class="my-1 text-sm leading-7 mb-6">이번 게임대회에 참가하게 된 이유는 재밌어 보였고 많이 사용해보지 않은 Canvas API에 대한 경험과 게임 프로그래밍에 대한 경험을 얻을 수 있겠다고 생각했습니다.</p>
    <h2 id="" class="text-xl my-4 font-semibold">
      아이디어
    </h2><p class="my-1 text-sm leading-7 mb-6">초기에 기획한 아이디어는 &quot;좀비들을 사냥하다가 갑자기 뒤에서 좀비들이 튀어나오는 FPS 게임&quot;이었습니다.</p><p class="my-1 text-sm leading-7 mb-6">하지만 게임을 만들어본 경험도 적은 상황에서 FPS 게임을 만들기에는 능력이 부족하다고 생각해서 급히 아이디어를 수정했습니다.</p><p class="my-1 text-sm leading-7 mb-6">만들기 쉬운 2d 플랫포머 형태의 게임을 생각하였고</p><pre><code class="my-4 hljs text-xs language-">back =&gt;  뒤를 공격하기 =&gt; 암살, 닌자</code></pre><p class="my-1 text-sm leading-7 mb-6">와 같은 생각의 흐름으로 닌자를 주제로 게임을 만들기로 하였습니다.</p>
    <h2 id="" class="text-xl my-4 font-semibold">
      이미지
    </h2><p class="my-1 text-sm leading-7 mb-6">아이디어 정리 후, 주인공 캐릭터와 몬스터의 이미지를 만들기로 했습니다. 포토샵과 같은 툴을 다룰 줄 몰랐기 때문에, 쉽게 스프라이트를 만들 수 있는 piskel이라는 사이트를 이용했습니다.</p><p class="my-1 text-sm leading-7 mb-6"><img class="my-4 border-gray-300 border rounded-sm p-1" src="./assets/js13k2019/enemy-before.png"></p><p class="my-1 text-sm leading-7 mb-6">처음으로 그린 몬스터 이미지입니다. 이미지를 만든 후 개발하며 생각해보니 한 방향으로 공격하게 하는 것보다 회전을 하면서 공격하면 더 재밌고 난이도도 높아질 것 같다는 생각에 각진 디자인을 버리고, 새로 디자인하였습니다.</p><p class="my-1 text-sm leading-7 mb-6"><img class="my-4 border-gray-300 border rounded-sm p-1" src="./assets/js13k2019/character-after.png"></p><blockquote class="border-l-2 border-black pl-2 my-4"><p class="my-1 text-sm leading-7 mb-6">맨 왼쪽: 주인공/ 이 후: 몬스터</p></blockquote><p class="my-1 text-sm leading-7 mb-6">아래가 최종 결과물로, 몬스터는 걷는 모습을 표현하기 위해 애니메이션이 되도록 만들었으며, 머리를 회전시키기 위해 몸통 이미지와 머리 이미지를 분리시켰습니다.</p><p class="my-1 text-sm leading-7 mb-6"><img class="my-4 border-gray-300 border rounded-sm p-1" src="./assets/js13k2019/enemy-after.png"></p>
    <h2 id="" class="text-xl my-4 font-semibold">
      사운드
    </h2>효과음<p class="my-1 text-sm leading-7 mb-6">게임에 소리가 들어가야 더 퀄리티가 있을 것 같다고 생각하였습니다. 먼저 게임에 들어갈 효과음을 opengameart 라는 사이트에서 찾았습니다. 이 사이트에는 효과음 이외에도 인디게임 개발자 들을 위한 여러 게임 리소스를 제공하고 있습니다. 사이트 메뉴에서 Browser &gt; sound effects로 들어가면 다양한 효과음을 찾을 수 있습니다.</p><p class="my-1 text-sm leading-7 mb-6">적당한 효과음을 찾았지만 13kb 이내에 효과음을 그대로 게임에 넣기에는 파일 크기가 너무 컸습니다. 때문에 사이트에서 간편하게 음악파일을  줄일 수 있는 audio-compressor와 같은 사이트를 이용해서 음악 파일을 줄였습니다.</p>배경음악<p class="my-1 text-sm leading-7 mb-6">배경음 소스는 많이 찾을 수 있었지만 배경음은 아무리 줄여도 파일크기가 너무 컸습니다. 때문에 다른 해결책을 찾아야 했습니다.</p><p class="my-1 text-sm leading-7 mb-6"><a href="https://github.com/kevincennis/TinyMusic" class="text-orange-500">TinyMusic</a> 이라는 라이브러리를 이용하면 WebAudio를 이용하여 소리를 만들어 낼 수 있습니다. 이 라이브러리는 문자열 배열 형태의 음악 코드를 web audio로 재생시켜 줍니다.</p>게임 배경음악 악보<p class="my-1 text-sm leading-7 mb-6">아무 음악이나 사용하면 저작권 문제도 있을 것 같아 음악을 전공하는 친구에게 부탁하여 곡을 받고, 이를 TinyMusic으로 재생시키기 위해 아래와 같이 변환했습니다.</p><pre><code class="my-4 hljs text-xs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">TinyMusic</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./TinyMusic&quot;</span>;
<span class="hljs-comment">/*
 A~F[숫자] 는 음.
 w, h ,e 는 음의 길이.
*/</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NOTES</span> = [
  <span class="hljs-string">&#x27;Gb4  w&#x27;</span>, <span class="hljs-string">&#x27;B3  h&#x27;</span>, <span class="hljs-string">&#x27;Db4  h&#x27;</span>, <span class="hljs-string">&#x27;D4  e&#x27;</span>, <span class="hljs-string">&#x27;E4  e&#x27;</span>, <span class="hljs-string">&#x27;D4  e&#x27;</span>, <span class="hljs-string">&#x27;C4  h&#x27;</span>, <span class="hljs-string">&#x27;B3  h&#x27;</span>,
  <span class="hljs-string">&#x27;Gb4  w&#x27;</span>, <span class="hljs-string">&#x27;B3  h&#x27;</span>, <span class="hljs-string">&#x27;Db4  h&#x27;</span>, <span class="hljs-string">&#x27;D4  e&#x27;</span>, <span class="hljs-string">&#x27;E4  e&#x27;</span>, <span class="hljs-string">&#x27;D4  e&#x27;</span>, <span class="hljs-string">&#x27;F4  h&#x27;</span>, <span class="hljs-string">&#x27;G4  h&#x27;</span>,
  <span class="hljs-string">&#x27;Gb4  w&#x27;</span>, <span class="hljs-string">&#x27;B3  h&#x27;</span>, <span class="hljs-string">&#x27;Db4  h&#x27;</span>, <span class="hljs-string">&#x27;D4  e&#x27;</span>, <span class="hljs-string">&#x27;E4  e&#x27;</span>, <span class="hljs-string">&#x27;D4  e&#x27;</span>,<span class="hljs-string">&#x27;C4  h&#x27;</span>, <span class="hljs-string">&#x27;B3  h&#x27;</span>,
  <span class="hljs-string">&#x27;Gb4  w&#x27;</span>, <span class="hljs-string">&#x27;G4  h&#x27;</span>, <span class="hljs-string">&#x27;F4  h&#x27;</span>, <span class="hljs-string">&#x27;E4  w&#x27;</span>, <span class="hljs-string">&#x27;D4  h&#x27;</span>, <span class="hljs-string">&#x27;E4  h&#x27;</span>,
];

<span class="hljs-keyword">const</span> audioContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AudioContext</span>();
<span class="hljs-keyword">const</span> tempo = <span class="hljs-number">240</span>; <span class="hljs-comment">// 템포</span>
<span class="hljs-keyword">const</span> bgMusic = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TinyMusic</span>.<span class="hljs-title class_">Sequence</span>(audioContext, tempo, <span class="hljs-variable constant_">BG_MUSIC_NOTES</span>);

bgMusic.<span class="hljs-property">loop</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// 반복 재생 true</span>

bgMusic.<span class="hljs-title function_">play</span>(); <span class="hljs-comment">// 재생 시작</span>
</code></pre>
    <h2 id="" class="text-xl my-4 font-semibold">
      폰트
    </h2><p class="my-1 text-sm leading-7 mb-6">처음에는 웹 브라우저의 기본 폰트를 사용하려 했으나, 디자인과도 맞지 않고. 모든 사용자에게 동일한 폰트를 보여주는 것이 좋겠다고 생각했습니다.</p><p class="my-1 text-sm leading-7 mb-6">하지만 폰트 파일은 크기가 크기 때문에 이 역시 <a href="https://github.com/PaulBGD/PixelFont" class="text-orange-500">Pixel Font</a>라는 라이브러리를 이용해 해결했습니다.</p><p class="my-1 text-sm leading-7 mb-6">이 라이브러리는 내부적으로 모든 알파벳의 모양을 boolean의 2차원 배열로 가지고 있고, 이를 Canvas에 사각형으로 그리도록 도와줍니다.</p><pre><code class="my-4 hljs text-xs language-js"><span class="hljs-keyword">var</span> A = [
    [<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>],
    [<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>],
    [<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>],
    [<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>],
    [<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>]
];</code></pre><p class="my-1 text-sm leading-7 mb-6"><img class="my-4 border-gray-300 border rounded-sm p-1" src="./assets/js13k2019/font.png"> </p>
    <h2 id="" class="text-xl my-4 font-semibold">
      결과
    </h2><p class="my-1 text-sm leading-7 mb-6"><img class="my-4 border-gray-300 border rounded-sm p-1" src="./assets/js13k2019/result.png"></p><p class="my-1 text-sm leading-7 mb-6">상당히 잘 만든 게임들이 많이 보여서 아마 순위권에는 들지 못할 것 같다고 생각했는데 운이 좋게 <em>7등</em>을 하게 되었습니다!! 이후 <a href="https://github.blog/2019-10-08-js13k-2019-highlights/#7th-back-attacker" class="text-orange-500">Github 블로그</a>에도 소개되는 경험을 하게 되었습니다.</p><p class="my-1 text-sm leading-7 mb-6">게임에 대해 이곳저곳에 평가를 구했습니다. 좋은 평가로는 <code class="bg-gray-100 px-1 rounded-md inline-block text-sm">참신한 아이디어</code>가 있었으며, 발전을 주는 피드백으로는 <code class="bg-gray-100 px-1 rounded-md inline-block text-sm">1 종류밖에 없는 몬스터 타입</code> , <code class="bg-gray-100 px-1 rounded-md inline-block text-sm">잘못 설계된 듯한 스테이지</code>, <code class="bg-gray-100 px-1 rounded-md inline-block text-sm">반복적인 게임 배경</code> 등이 있었습니다.</p>
    <h2 id="" class="text-xl my-4 font-semibold">
      느낀 점
    </h2><p class="my-1 text-sm leading-7 mb-6"><strong>코드 퀄리티</strong></p><p class="my-1 text-sm leading-7 mb-6">일단 동작부터 시키고 나중에 리팩토링 해야지 라고 생각했습니다. 퇴근 후 개발을 하다 보니 피곤함 때문에 리팩토링을 미루기도 했고, 빨리 완성부터 시키자 라는 마음이 컸습니다. 이런 마음으로 코드를 짜다 보니 퀄리티가 많이 떨어지는 코드들이 나오게 되었습니다 :).</p><p class="my-1 text-sm leading-7 mb-6">대표적으로 퀄리티를 떨어뜨리는 요소는, &#39;매직넘버&#39;와 &#39;잘못된 구조&#39;입니다.</p><p class="my-1 text-sm leading-7 mb-6"><strong>매직 넘버</strong></p><p class="my-1 text-sm leading-7 mb-6">Canvas에 그려지는 요소를 눈대중으로 맞추다 보니 아래와 같은 코드가 많습니다.</p><pre><code class="my-4 hljs text-xs language-js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">ox</span> = x  + width / <span class="hljs-number">2</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(rad) * <span class="hljs-number">21</span>;
<span class="hljs-variable language_">this</span>.<span class="hljs-property">oy</span> =  y + <span class="hljs-number">7</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(rad) * <span class="hljs-number">21</span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span>.<span class="hljs-property">offsetY</span> = <span class="hljs-number">8</span>;
<span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span>.<span class="hljs-property">offsetX</span> = <span class="hljs-number">5</span>;</code></pre><p class="my-1 text-sm leading-7 mb-6">제가 짰는데도 나중에 보니 이게 무슨 숫자인지 헷갈리고 버그가 있어도 찾아 해결하는데 시간이 오래 걸렸습니다.</p><p class="my-1 text-sm leading-7 mb-6">또한 여러 곳에 동일하게 쓰인 숫자를 바꾸려고 할 때 일부를 빼먹게 되어 문제가 생기는 경우도 빈번했습니다.</p><p class="my-1 text-sm leading-7 mb-6">조금 귀찮더라도 미리미리 상수로 잘 정의했다면 더 수월했을 것 같아 아쉽습니다. </p><p class="my-1 text-sm leading-7 mb-6"><strong>잘못된 구조</strong></p><p class="my-1 text-sm leading-7 mb-6">처음부터 로직의 재사용성을 최대한 고려하고 클래스 상속을 잘 설계했으면, 더 작은 파일 크기로 완성했을 수 있을 것 같습니다.
현재는 중복되는 로직이 이곳저곳에 존재합니다. 또한 어떤 객체는 각도를 radian으로 사용하고, 다른 객체는 degree로 사용하기도 하는 등 일관성이 없습니다.
이런 부분을 미리미리 잘 처리해 두었다면 더 적은 파일 크기로 완성할 수 있었을 것 같고  그럼 더 재밌는 스테이지(보스전?)를 넣을 수 있었을 것 같아 아쉽습니다.</p>
    <h2 id="" class="text-xl my-4 font-semibold">
      끝
    </h2><p class="my-1 text-sm leading-7 mb-6">마지막으로 게임이 궁금하신 분들은 아래 링크에서 플레이할 수 있으며, 모바일은 지원하지 않고 Chrome 과 FireFox에서만 동작합니다.</p><p class="my-1 text-sm leading-7 mb-6"><a href="https://js13kgames.com/entries/back-attacker" class="text-orange-500">Play Back Attacker</a></p>
          </main>
        </div>
        <script src="/dev-blog/scripts/header.js"></script>
      </body>
    </html>
    